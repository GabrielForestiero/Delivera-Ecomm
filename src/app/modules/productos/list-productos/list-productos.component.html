<div class="container py-5">

  <!-- FILTROS -->
  <div class="card mb-5 shadow-sm border-0 rounded-4 p-4 bg-light">
    <div class="row g-3 align-items-end">

      <div class="col-md-5">
        <label for="nameFilter" class="form-label fw-bold text-secondary">Buscar por nombre</label>
        <input id="nameFilter" type="text" pInputText [(ngModel)]="searchName" (input)="onFilterChange()"
          placeholder="Ej: Pizza, Sushi..." class="form-control rounded-3" />
      </div>

      <div class="col-md-5">
        <label for="categoryFilter" class="form-label fw-bold text-secondary">Filtrar por categoría</label>
 <p-dropdown [options]="categories" [(ngModel)]="selectedCategory" (onChange)="onFilterChange()" placeholder="Seleccionar categoría"
        [filter]="true" class="w-100"></p-dropdown>
      </div>

      <div class="col-md-2 d-grid">
        <button pButton label="Limpiar" icon="pi pi-times" class="p-button-secondary rounded-3"
          (click)="clearFilters()"></button>
      </div>

    </div>
  </div>

  <div class="row g-4">
    <div class="col-12 col-md-6 col-lg-4" *ngFor="let product of products">
      <div class="card h-100 shadow-sm border-0 rounded-4 overflow-hidden">

        <img
          [src]="product.imageUrl || 'https://via.placeholder.com/600x400?text=Producto'"
          class="w-100"
          style="height: 220px; object-fit: cover;"
          alt="{{ product.name }}" />

        <div class="card-body d-flex flex-column" (click)="verProducto(product._id)">
          <div class="text-primary fw-bold fs-4 mb-2">${{ product.price }}</div>
          <h5 class="card-title mb-1">{{ product.name }}</h5>
          <p class="text-muted mb-2" style="font-size: 0.85rem;">{{ product.category }}</p>
          <p class="text-secondary flex-grow-1" style="font-size: 0.9rem;">{{ product.description }}</p>
        </div>

        <div class="card-footer bg-white border-0 p-3">
          <button
            pButton
            label="Comprar ahora"
            icon="pi pi-shopping-cart"
            class="p-button-lg p-button-rounded p-button-success w-100"
            (click)="toggleCart(product)">
          </button>
        </div>
      </div>
    </div>
  </div>

</div>
